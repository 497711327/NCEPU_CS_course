;统计字母出现次数

DATAS SEGMENT
    BUF DB 'DeBCEdecDe#'
    COUNT EQU $-BUF
    SUM DB 26 DUP(0)           ;定义一个长度为26的数组，初始值全为0
DATAS ENDS

STACKS SEGMENT

STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
MAIN PROC FAR
START:
    MOV AX,DATAS
    MOV DS,AX

    LEA SI,BUF
    LEA DI,SUM
    MOV CX,COUNT
    
    CALL CALC
    MOV AH,4CH
    INT 21H
MAIN ENDP

CALC PROC NEAR
	PUSH BX
LOOP1:
	MOV BL,[SI]
	CMP BL,5AH          ;'D'<5AH
	JLE JUDGE
	SUB BL,20H
JUDGE:
	CMP BL,41H
	JGE NEXT            ;'D'>=41H
	JMP EXIT
NEXT:
	SUB BL,41H
	AND BH,0H
	ADD BX,DI
	INC BYTE PTR [BX]
	INC SI
	LOOP LOOP1
EXIT:POP BX
	RET
CALC ENDP

CODES ENDS
    END START
